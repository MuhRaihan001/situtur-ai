type User @table {
  username: String!
  createdAt: Timestamp!
  email: String
  profilePictureUrl: String
  preferredLanguage: Language
}

type Language @table {
  name: String!
  nativeName: String!
  localeCode: String!
  description: String
  flagUrl: String
}

type Course @table {
  title: String!
  description: String!
  language: Language!
  createdAt: Timestamp!
  level: String
  imageUrl: String
}

type Lesson @table {
  title: String!
  content: String!
  course: Course!
  orderIndex: Int!
  lessonType: String
  audioUrl: String
}

type UserCourseProgress @table(key: ["user", "course"]) {
  user: User!
  course: Course!
  progressPercentage: Float!
  lastAccessedAt: Timestamp!
  completedLessonsCount: Int
  currentLesson: Lesson
}

type UserLessonCompletion @table(key: ["user", "lesson"]) {
  user: User!
  lesson: Lesson!
  completedAt: Timestamp!
  score: Int
  timeSpent: Int
}